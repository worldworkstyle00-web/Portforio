<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ãŠå•ã„åˆã‚ã› | ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã€‚EmailJS ã‚’ä½¿ç”¨ã—ã¦ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãŒå¯èƒ½ã§ã™ã€‚" />
  <link rel="stylesheet" href="style.css" />
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/index.min.js"></script>
</head>
<body>
<div class="page-wrap">

<header>
  <nav class="nav">
    <div class="nav-left">
      <div class="brand-circle"><span>TW</span></div>
      <div class="brand-text">
        <div class="brand-text-title">ITé‹ç”¨ Ã— Webåˆ¶ä½œ</div>
        <div class="brand-text-sub">å®ŸåŠ¹æ€§é‡è¦–ã®åœ¨å®…ãƒ¯ãƒ¼ã‚«ãƒ¼</div>
      </div>
    </div>
    <button class="nav-toggle"><span></span><span></span><span></span></button>

    <div class="nav-links">
      <a href="index.html" class="nav-link">æ¦‚è¦</a>
      <a href="workstyle.html" class="nav-link">ä»•äº‹è¦³</a>
      <a href="strengths.html" class="nav-link">å¼·ã¿</a>
      <a href="skills.html" class="nav-link">ã‚¹ã‚­ãƒ«</a>
      <a href="stories.html" class="nav-link">æ”¹å–„äº‹ä¾‹</a>
      <a href="services.html" class="nav-link">æä¾›ã§ãã‚‹æ¥­å‹™</a>
      <a href="workflow.html" class="nav-link">ä»•äº‹ã®é€²ã‚æ–¹</a>
      <a href="vision.html" class="nav-link">ä»Šå¾Œã«ã¤ã„ã¦</a>
      <a href="contact.html" class="nav-link active">ãŠå•ã„åˆã‚ã›</a>
    </div>
  </nav>
</header>

<main>
<section class="section">
  <div class="section-heading">
    <span class="section-heading-pill">ğŸ“®</span>
    <span>ãŠå•ã„åˆã‚ã›</span>
  </div>
  <p class="section-subtitle">
    ã”è³ªå•ãƒ»ã”ç›¸è«‡ãƒ»ãŠä»•äº‹ã®ã”ä¾é ¼ã¯ã“ã¡ã‚‰ã‹ã‚‰ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„ã€‚
  </p>

  <form id="contact-form" class="contact-form">
    <label class="form-label">ãŠåå‰</label>
    <input type="text" id="user_name" name="user_name" class="form-input" required />

    <label class="form-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
    <input type="email" id="user_email" name="user_email" class="form-input" required />

    <label class="form-label">ãŠå•ã„åˆã‚ã›å†…å®¹</label>
    <textarea id="message" name="message" class="form-textarea" required></textarea>

    <button type="submit" class="form-submit">é€ä¿¡ã™ã‚‹</button>

    <p id="form-status" class="form-status"></p>
  </form>
</section>
</main>

<footer>
  <div class="footer-inner">
    Â© 2025 Tamae Shinohe â€“ ITé‹ç”¨ Ã— Webåˆ¶ä½œ Ã— åœ¨å®…ãƒ¯ãƒ¼ã‚¯
  </div>
</footer>

<button class="back-to-top">â†‘</button>
<script src="script.js" defer></script>

<!-- EmailJS å‡¦ç† -->
<script async src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/index.min.js"></script>
<script>
  // EmailJS ãƒ©ã‚¤ãƒ–ãƒ©ãƒªèª­ã¿è¾¼ã¿å®Œäº†ã‚’å¾…ã¤
  function initEmailJS() {
    if (typeof emailjs === 'undefined') {
      setTimeout(initEmailJS, 100);
      return;
    }

    emailjs.init("TMbYbHm3jZpgCLjx6");

    const contactForm = document.getElementById("contact-form");
    const formStatus = document.getElementById("form-status");

    if (contactForm) {
      contactForm.addEventListener("submit", async (e) => {
        e.preventDefault();

        const submitBtn = contactForm.querySelector("button[type='submit']");
        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.textContent = "é€ä¿¡ä¸­ã§ã™...";
        }

        if (formStatus) {
          formStatus.textContent = "é€ä¿¡å‡¦ç†ä¸­ã§ã™...";
          formStatus.style.color = "#666";
          formStatus.style.display = "block";
        }

        try {
          const response = await emailjs.send(
            "service_nl4z1ym",
            "template_qts6n8j",
            {
              user_name: document.getElementById("user_name").value,
              user_email: document.getElementById("user_email").value,
              message: document.getElementById("message").value,
            }
          );

          if (response.status === 200) {
            formStatus.textContent = "é€ä¿¡ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ã”é€£çµ¡ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ç¢ºèªå¾Œã€ã”è¿”ä¿¡ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚";
            formStatus.style.color = "#28a745";
            contactForm.reset();
          }
        } catch (error) {
          console.error("ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚¨ãƒ©ãƒ¼:", error);
          formStatus.textContent = "é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚";
          formStatus.style.color = "#d33";
        } finally {
          if (submitBtn) {
            submitBtn.disabled = false;
            submitBtn.textContent = "é€ä¿¡ã™ã‚‹";
          }
        }
      });
    }
  }

  // ãƒšãƒ¼ã‚¸ãŒå®Œå…¨ã«èª­ã¿è¾¼ã¾ã‚ŒãŸã‚‰åˆæœŸåŒ–
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initEmailJS);
  } else {
    initEmailJS();
  }
</script>
</div>
</body>
</html>
